// Coi Math Library
// Provides mathematical functions and constants

type Math {
    // Constants
    @inline("coi::math::PI")
    shared float PI;

    @inline("coi::math::HALF_PI")
    shared float HALF_PI;

    @inline("coi::math::TAU")
    shared float TAU;

    @inline("coi::math::DEG2RAD")
    shared float DEG2RAD;

    @inline("coi::math::RAD2DEG")
    shared float RAD2DEG;

    // Basic Math Functions
    @inline("coi::math::abs(${0})")
    shared def abs(float x) : float

    @inline("coi::math::sqrt(${0})")
    shared def sqrt(float x) : float

    // Trigonometric Functions
    @inline("coi::math::sin(${0})")
    shared def sin(float x) : float

    @inline("coi::math::cos(${0})")
    shared def cos(float x) : float

    @inline("coi::math::tan(${0})")
    shared def tan(float x) : float

    // Random number generation (compiler intrinsics)
    @intrinsic("random")
    
    shared def random(): float
    @intrinsic("random_seeded")
    shared def random(int seed): float

    // Utility Functions
    @inline("(${0} < ${1} ? ${0} : ${1})")
    shared def min(float a, float b) : float

    @inline("(${0} > ${1} ? ${0} : ${1})")
    shared def max(float a, float b) : float

    @inline("((${0} < ${2}) ? ${2} : ((${0} > ${1}) ? ${1} : ${0}))")
    shared def clamp(float value, float min, float max) : float

    @inline("(${0} * (1.0f - ${2}) + ${1} * ${2})")
    shared def lerp(float a, float b, float t) : float

    @inline("((float)(int)${0})")
    shared def floor(float x) : float

    @inline("((float)((int)${0} + 1))")
    shared def ceil(float x) : float

    @inline("((float)(int)(${0} + 0.5f))")
    shared def round(float x) : float
}
