# Package Manager

Coi includes a built-in package manager for installing community packages from the Coi Registry.

- Registry: https://github.com/coi-lang/registry
- Package source location in your project: `.coi/pkgs/`
- Lock file: `coi.lock`

> [!NOTE]
> Coi resolves package imports from `.coi/pkgs/`. Commit `coi.lock` so everyone on your team installs the same package versions.

## Quick Commands

| Command | Description |
|---------|-------------|
| `coi add <package>` | Add a package from the registry |
| `coi install` | Install all packages listed in `coi.lock` |
| `coi remove <package>` | Remove a package |
| `coi update [package]` | Update one package or all packages |
| `coi list` | List installed packages |

## Add a Package

```bash
coi add supabase
```

This command:
1. Fetches package metadata from the registry
2. Downloads the package into `.coi/pkgs/<package>/`
3. Creates or updates `coi.lock`

Then import it in your Coi code:

```tsx
import "@supabase";
```

## Install from `coi.lock`

Use this after cloning a project or pulling dependency changes:

```bash
coi install
```

This reads `coi.lock` and installs exact versions into `.coi/pkgs/`.

## Update and Remove

Update one package:

```bash
coi update supabase
```

Update all packages:

```bash
coi update
```

Remove a package:

```bash
coi remove supabase
```

## Import Resolution

Package imports use the `@` prefix:

```tsx
import "@supabase";      // .coi/pkgs/supabase/Mod.coi
import "@ui-kit/Button"; // .coi/pkgs/ui-kit/Button.coi
```

## Publishing a Package

To publish packages to the registry, use the package template metadata file generated by:

```bash
coi init my-pkg --pkg
```

Then fill out `registry-entry.json` and submit to the registry repo.

- [Registry docs](https://github.com/coi-lang/registry/blob/main/README.md)
